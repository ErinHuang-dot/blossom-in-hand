"use strict";(self["webpackChunkp_blossom"]=self["webpackChunkp_blossom"]||[]).push([[652],{4295:function(a,e,t){t.d(e,{Z:function(){return _}});var s=t(6252),i=t(3577),n=t(9963);const r={"aria-label":"Page navigation example"},o={class:"pagination pagination-mm"},l={"aria-hidden":"true"},c={key:0,class:"page-link"},p=["onClick"],d={"aria-hidden":"true"};function g(a,e,t,g,u,h){const m=(0,s.up)("vue-feather");return(0,s.wg)(),(0,s.iD)("nav",r,[(0,s._)("ul",o,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!t.pages.has_pre}])},[(0,s._)("a",{class:"page-link page-link-pre",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.iM)((a=>h.updatePage(t.pages.current_page-1)),["prevent"]))},[(0,s._)("span",l,[(0,s.Wm)(m,{type:"chevron-left"})])])],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.pages.total_pages,(a=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:a===t.pages.current_page}]),key:a},[a===t.pages.current_page?((0,s.wg)(),(0,s.iD)("span",c,(0,i.zw)(a),1)):((0,s.wg)(),(0,s.iD)("a",{key:1,class:"page-link",href:"#",onClick:(0,n.iM)((e=>h.updatePage(a)),["prevent"])},(0,i.zw)(a),9,p))],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!t.pages.has_next}])},[(0,s._)("a",{class:"page-link page-link-next",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.iM)((a=>h.updatePage(t.pages.current_page+1)),["prevent"]))},[(0,s._)("span",d,[(0,s.Wm)(m,{type:"chevron-right"})])])],2)])])}var u={props:["pages"],methods:{updatePage(a){this.$emit("emitPages",a)}}},h=t(3744);const m=(0,h.Z)(u,[["render",g]]);var _=m},8652:function(a,e,t){t.r(e),t.d(e,{default:function(){return z}});var s=t(6252),i=t(3577);const n=(0,s._)("div",{class:"bg-img products-banner"},null,-1),r={class:"container mb-5"},o={"aria-label":"breadcrumb",class:"py-3"},l={class:"breadcrumb"},c={class:"breadcrumb-item"},p=(0,s.Uk)("首頁"),d=(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"挑花買花",-1),g=(0,s._)("div",{class:"main-header d-flex justify-cotent-between py-6"},[(0,s._)("h2",{class:"me-2"},"挑花買花，我想看看...")],-1),u={class:"row row-cols-1 row-cols-md-3 g-7"},h={class:"card h-100"},m={style:{height:"12.5rem",overflow:"hidden"}},_=["src","alt"],b={class:"card-body p-4"},v={class:"card-title mb-3"},k={class:"card-text"},f={class:"card-footer border-top-0 bg-transparent p-4"},w={class:"btn-group btn-group-lg w-100",role:"group","aria-label":"Basic outlined example"},y=(0,s.Uk)(" 了解更多 "),P=["onClick"],C={class:"d-flex justify-content-center py-6"};function x(a,e,t,x,D,L){const W=(0,s.up)("v-loading"),$=(0,s.up)("router-link"),z=(0,s.up)("vue-feather"),M=(0,s.up)("pagination-tool");return(0,s.wg)(),(0,s.iD)(s.HY,null,[n,(0,s._)("div",r,[(0,s.Wm)(W,{active:D.isLoading},null,8,["active"]),(0,s._)("nav",o,[(0,s._)("ol",l,[(0,s._)("li",c,[(0,s.Wm)($,{to:"/"},{default:(0,s.w5)((()=>[p])),_:1})]),d])]),g,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.products,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:e.id},[(0,s._)("div",h,[(0,s._)("div",m,[(0,s._)("img",{src:e.imageUrl,class:"card-img-top",alt:e.title,style:(0,i.j5)({backgroundSize:a.cover,backgroundPosition:a.center,center:a.center})},null,12,_)]),(0,s._)("div",b,[(0,s._)("h4",v,(0,i.zw)(e.title),1),(0,s._)("p",k,(0,i.zw)(e.description),1)]),(0,s._)("div",f,[(0,s._)("div",w,[(0,s.Wm)($,{to:`/product/${e.id}`,class:"btn btn-outline-primary flex-grow-1"},{default:(0,s.w5)((()=>[y])),_:2},1032,["to"]),(0,s._)("button",{onClick:a=>L.addToCart(e.id),type:"button",class:"btn btn-outline-primary"},[(0,s.Wm)(z,{type:"shopping-cart",class:"align-middle"})],8,P)])])])])))),128))]),(0,s._)("div",C,[(0,s.Wm)(M,{pages:D.pagination,onEmitPages:L.getProducts},null,8,["pages","onEmitPages"])])])],64)}var D=t(4295),L={data(){return{products:[],productId:"",isLoading:!1,pagination:{},currentPage:1}},components:{PaginationTool:D.Z},methods:{getProducts(a=1){this.currentPage=a;const e=`https://vue3-course-api.hexschool.io/v2/api/erinhuang-lab/products?page=${a}`;this.isLoading=!0,this.$http.get(e).then((a=>{this.isLoading=!1,this.products=a.data.products,this.pagination=a.data.pagination})).catch((a=>{console.dir(a),this.isLoading=!1,this.$httpMessageState(a.response,"錯誤訊息")}))},addToCart(a,e=1){const t={product_id:a,qty:e};this.isLoadingItem=a;const s="https://vue3-course-api.hexschool.io/v2/api/erinhuang-lab/cart";this.$http.post(s,{data:t}).then((a=>{alert(a.data.message),this.isLoadingItem=""})).catch((a=>{alert(a.response.data.message)}))}},mounted(){this.getProducts()}},W=t(3744);const $=(0,W.Z)(L,[["render",x]]);var z=$}}]);
//# sourceMappingURL=652.7c682ef9.js.map