{"version":3,"file":"js/721.c5176b13.js","mappings":"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","sources":["webpack://p-blossom/./src/views/AdminOrders.vue","webpack://p-blossom/./src/components/UpdateOrderModal.vue","webpack://p-blossom/./src/components/UpdateOrderModal.vue?67c1","webpack://p-blossom/./src/views/AdminOrders.vue?577b"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"fs-3 py-6\">訂單管理</h1>\r\n    <!-- 訂單列表 -->\r\n    <div class=\"card card-body border-0 shadow table-wrapper table-responsive\">\r\n      <v-loading :active=\"isLoading\"></v-loading>\r\n      <table class=\"table table-hover align-middle\">\r\n        <thead>\r\n          <tr>\r\n            <th class=\"border-gray-200\">購買時間</th>\r\n            <th class=\"border-gray-200\">姓 名</th>\r\n            <th class=\"border-gray-200\">Email</th>\r\n            <th class=\"border-gray-200\">購買品項</th>\r\n            <th class=\"border-gray-200\">應付金額</th>\r\n            <th class=\"border-gray-200\">是否付款</th>\r\n            <th class=\"border-gray-200 text-center\">編 輯</th>\r\n            <th class=\"border-gray-200 text-center\">刪 除</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in orders\" :key=\"item.id\">\r\n            <td>{{ item.create_at }}</td>\r\n            <td>{{ item.user.name }}</td>\r\n            <td>{{ item.user.email }}</td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"product in item.products\" :key=\"product.id\">\r\n                  〔{{ product.product.title }} 〕\r\n                  數量：{{ product.product.num }} {{ product.product.unit }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td class=\"text-end\">\r\n              <span class=\"fw-bold me-4\">{{ item.total }}</span>\r\n            </td>\r\n            <td>\r\n              <div class=\"form-check form-switch\">\r\n                <input\r\n                  class=\"form-check-input\" type=\"checkbox\" role=\"switch\"\r\n                  :id=\"`paidSwitch${item.id}`\"\r\n                  v-model=\"item.is_paid\"\r\n                  @change=\"updatePaid(item)\">\r\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                  <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"edit-btn border-0 bg-transparent px-3 py-2\"\r\n                @click=\"callOrderModal(item)\"\r\n                ><vue-feather type=\"edit\"></vue-feather>\r\n              </button>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"delete-btn border-0 bg-transparent px-3 py-2\"\r\n                @click=\"callDeleteOrderModal(item)\"\r\n                ><vue-feather type=\"trash-2\"></vue-feather>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div\r\n        class=\"\r\n          card-footer\r\n          px-3\r\n          border-0\r\n          d-flex\r\n          flex-column flex-lg-row\r\n          align-items-center\r\n          justify-content-between\r\n        \"\r\n      >\r\n        <!-- 分頁元件 -->\r\n        <pagination-tool\r\n          :pages=\"pagination\"\r\n          @emit-pages=\"getOrders\"\r\n        ></pagination-tool>\r\n        <div class=\"fw-normal small mt-4 mt-lg-0\">\r\n          <p>本頁 {{ orders.length }} 筆</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 編輯視窗 -->\r\n    <update-order-modal\r\n      ref=\"orderModal\"\r\n      :order=\"tempOrder\"\r\n      @update-paid=\"updatePaid\"\r\n    ></update-order-modal>\r\n    <!-- 刪除視窗 -->\r\n    <delete-modal\r\n      ref=\"deleteModal\"\r\n      :item=\"tempOrder\"\r\n      @del-item=\"deleteOrder\"\r\n    ></delete-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PaginationTool from '@/components/PaginationTool.vue'\r\nimport DeleteModal from '@/components/DeleteModal.vue'\r\nimport UpdateOrderModal from '@/components/UpdateOrderModal.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: {},\r\n      tempOrder: {},\r\n      pagination: {},\r\n      currentPage: 1,\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    PaginationTool,\r\n    DeleteModal,\r\n    UpdateOrderModal\r\n  },\r\n  methods: {\r\n    getOrders (currentPage = 1) {\r\n      this.currentPage = currentPage\r\n      const getOrdersApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(getOrdersApi)\r\n        .then((res) => {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n          this.isLoading = false\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          console.dir(error)\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n        })\r\n    },\r\n    callDeleteOrderModal (item) {\r\n      this.tempOrder = { ...item }\r\n      const delComponent = this.$refs.deleteModal\r\n      delComponent.openModal()\r\n    },\r\n    deleteOrder () {\r\n      const delOrderApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n      this.isLoading = true\r\n      this.$http\r\n        .delete(delOrderApi)\r\n        .then((res) => {\r\n          const delComponent = this.$refs.deleteModal\r\n          delComponent.hideModal()\r\n          this.isLoading = false\r\n          this.getOrders(this.currentPage)\r\n          this.$httpMessageState(res, '刪除訂單')\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n        })\r\n    },\r\n    callOrderModal (item) {\r\n      this.tempOrder = { ...item }\r\n      const orderComponent = this.$refs.orderModal\r\n      orderComponent.openModal()\r\n    },\r\n    updatePaid (item) {\r\n      this.isLoading = true\r\n      const paid = {\r\n        is_paid: item.is_paid\r\n      }\r\n      const updateOrderApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\r\n      this.$http\r\n        .put(updateOrderApi, { data: paid })\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          const orderComponent = this.$refs.orderModal\r\n          orderComponent.hideModal()\r\n          this.getOrders(this.currentPage)\r\n          // this.$httpMessageState(res, '更新付款狀態')\r\n        })\r\n        .catch((error) => {\r\n          this.isLoading = false\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\" id=\"orderModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"orderModalLabel\" aria-hidden=\"true\"\r\n    ref=\"modal\">\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-ad-primary text-white\">\r\n          <h5 class=\"modal-title\" id=\"orderModalLabel\">訂單內容</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <!-- modal-start -->\r\n            <div class=\"col-md-4\">\r\n              <h3>購買者資訊</h3>\r\n              <table class=\"table align-middle\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th>姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <!-- modal-end -->\r\n            <div class=\"col-md-8\">\r\n              <h3>購買資訊</h3>\r\n              <table class=\"table align-middle\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th>訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>時間不正確</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <span\r\n                        v-if=\"tempOrder.is_paid\"\r\n                        class=\"text-success\"\r\n                      ><strong>已付款</strong></span>\r\n                      <span\r\n                        v-else\r\n                        class=\"text-muted\"\r\n                      >尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <h3>購買品項</h3>\r\n              <table class=\"table align-middle\">\r\n                <thead>\r\n                  <tr></tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                    <th>{{ item.product.title }}</th>\r\n                    <td>{{ item.product.num }} / {{ item.product.unit }}</td>\r\n                    <td class=\"text-end\">\r\n                      {{ $filters.currency(item.total) }}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class=\"d-flex justify-content-end\">\r\n                <div class=\"form-check form-switch\">\r\n                  <input\r\n                    class=\"form-check-input\" type=\"checkbox\" role=\"switch\"\r\n                    id=\"paidSwitch\"\r\n                    value=\"\"\r\n                    v-model=\"tempOrder.is_paid\">\r\n                  <label class=\"form-check-label\" for=\"paidSwitch\">\r\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                    <span v-else>未付款</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-dark\" data-bs-dismiss=\"modal\">取 消</button>\r\n          <button type=\"button\" class=\"btn btn-ad-primary\" @click=\"$emit('update-paid', tempOrder)\">修改付款狀態</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\n\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      tempOrder: {}\r\n    }\r\n  },\r\n  mixins: [modalMixin],\r\n  inject: ['emitter'],\r\n  emits: ['update-paid'],\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UpdateOrderModal.vue?vue&type=template&id=11d5f57d\"\nimport script from \"./UpdateOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateOrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\_Front_end\\\\_Hexschool_Vue\\\\p-blossom\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrders.vue?vue&type=template&id=665364d4\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\_Front_end\\\\_Hexschool_Vue\\\\p-blossom\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_v_loading","active","$data","_hoisted_5","_Fragment","_renderList","item","key","id","_toDisplayString","create_at","user","name","email","products","product","title","num","unit","total","type","role","is_paid","$event","onChange","$options","for","_hoisted_13","onClick","_component_vue_feather","_component_pagination_tool","pages","onEmitPages","length","_component_update_order_modal","ref","order","onUpdatePaid","_component_delete_modal","onDelItem","tabindex","_hoisted_26","_hoisted_4","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","tel","_hoisted_14","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","_ctx","date","_hoisted_21","paid_date","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_27","_hoisted_29","currency","_hoisted_30","_hoisted_32","value","_hoisted_37","_hoisted_38","_hoisted_40","props","Object","default","data","modal","tempOrder","mixins","modalMixin","inject","emits","watch","this","__exports__","orders","pagination","currentPage","isLoading","components","PaginationTool","DeleteModal","UpdateOrderModal","methods","getOrders","getOrdersApi","$http","get","then","res","catch","error","console","dir","$httpMessageState","response","callDeleteOrderModal","delComponent","$refs","deleteModal","openModal","deleteOrder","delOrderApi","delete","hideModal","callOrderModal","orderComponent","orderModal","updatePaid","paid","updateOrderApi","put","created","render"],"sourceRoot":""}