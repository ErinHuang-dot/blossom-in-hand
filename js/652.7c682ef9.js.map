{"version":3,"file":"js/652.7c682ef9.js","mappings":"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","sources":["webpack://p-blossom/./src/components/PaginationTool.vue","webpack://p-blossom/./src/components/PaginationTool.vue?a8c6","webpack://p-blossom/./src/views/ProductsView.vue","webpack://p-blossom/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination pagination-mm\">\r\n      <li class=\"page-item\" :class=\"{disabled: !pages.has_pre}\">\r\n        <a\r\n          class=\"page-link page-link-pre\" href=\"#\" aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\">\r\n            <span aria-hidden=\"true\">\r\n              <vue-feather type=\"chevron-left\"></vue-feather>\r\n            </span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        :class=\"{ active: page === pages.current_page}\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page\">\r\n        <!-- 如果只有一頁，不用帶連結 -->\r\n        <span class=\"page-link\" v-if=\"page === pages.current_page\">{{ page }}</span>\r\n        <a\r\n          class=\"page-link\" href=\"#\"\r\n          v-else\r\n          @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{disabled: !pages.has_next}\">\r\n        <a\r\n          class=\"page-link page-link-next\" href=\"#\" aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\">\r\n            <span aria-hidden=\"true\">\r\n              <vue-feather type=\"chevron-right\"></vue-feather>\r\n            </span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emitPages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.page-link {\r\n  padding: .5rem 1rem;\r\n}\r\n.page-link-pre, .page-link-next {\r\n  padding: .325rem .6rem;\r\n}\r\n</style>\r\n","import { render } from \"./PaginationTool.vue?vue&type=template&id=9c26dc42\"\nimport script from \"./PaginationTool.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTool.vue?vue&type=script&lang=js\"\n\nimport \"./PaginationTool.vue?vue&type=style&index=0&id=9c26dc42&lang=scss\"\n\nimport exportComponent from \"D:\\\\_Front_end\\\\_Hexschool_Vue\\\\p-blossom\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<!-- banner -->\r\n  <div class=\"bg-img products-banner\"></div>\r\n  <div class=\"container mb-5\">\r\n    <v-loading :active=\"isLoading\"></v-loading>\r\n    <!-- breadcrumb -->\r\n    <nav aria-label=\"breadcrumb\" class=\"py-3\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\">\r\n          <router-link to=\"/\">首頁</router-link>\r\n        </li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">挑花買花</li>\r\n      </ol>\r\n    </nav>\r\n    <!-- main-header -->\r\n    <div class=\"main-header d-flex justify-cotent-between py-6\">\r\n      <h2 class=\"me-2\">挑花買花，我想看看...</h2>\r\n      <!-- <select class=\"form-select form-select-lg w-25 border-0 border-bottom\" aria-label=\".form-select-lg example\">\r\n        <option selected>請選擇類型</option>\r\n        <option value=\"1\">One</option>\r\n        <option value=\"2\">Two</option>\r\n        <option value=\"3\">Three</option>\r\n      </select> -->\r\n    </div>\r\n    <!-- 商品列表 -->\r\n    <div class=\"row row-cols-1 row-cols-md-3 g-7\">\r\n      <div class=\"col\" v-for=\"item in products\" :key=\"item.id\">\r\n        <div class=\"card h-100\">\r\n          <div style=\"height: 12.5rem; overflow: hidden;\">\r\n            <img\r\n              :src=\"item.imageUrl\" class=\"card-img-top\" :alt=\"item.title\"\r\n              :style=\"{backgroundSize: cover, backgroundPosition: center,center}\">\r\n          </div>\r\n          <div class=\"card-body p-4\">\r\n            <h4 class=\"card-title mb-3\">{{ item.title }}</h4>\r\n            <p class=\"card-text\">{{ item.description }}</p>\r\n          </div>\r\n          <div class=\"card-footer border-top-0 bg-transparent p-4\">\r\n            <div class=\"btn-group btn-group-lg w-100\" role=\"group\" aria-label=\"Basic outlined example\">\r\n              <router-link :to=\"`/product/${item.id}`\" class=\"btn btn-outline-primary flex-grow-1\">\r\n                了解更多\r\n              </router-link>\r\n              <button\r\n                @click=\"addToCart(item.id)\"\r\n                type=\"button\" class=\"btn btn-outline-primary\">\r\n                <vue-feather type=\"shopping-cart\" class=\"align-middle\"></vue-feather>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- main-footer -->\r\n    <div class=\"d-flex justify-content-center py-6\">\r\n      <!-- 分頁元件 -->\r\n      <pagination-tool\r\n        :pages=\"pagination\"\r\n        @emit-pages=\"getProducts\"\r\n      ></pagination-tool>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PaginationTool from '@/components/PaginationTool.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      productId: '',\r\n      isLoading: false,\r\n      pagination: {},\r\n      currentPage: 1\r\n    }\r\n  },\r\n  components: {\r\n    PaginationTool\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.currentPage = page\r\n      const getProductsApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(getProductsApi)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          this.products = res.data.products\r\n          this.pagination = res.data.pagination\r\n        })\r\n        .catch(error => {\r\n          console.dir(error)\r\n          this.isLoading = false\r\n          this.$httpMessageState(error.response, '錯誤訊息')\r\n        })\r\n    },\r\n    addToCart (id, qty = 1) { // 預設商品數量為1\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoadingItem = id // 觸發時也存取id\r\n      const addToCartApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http\r\n        .post(addToCartApi, { data }) // 需帶入商品資料\r\n        .then((res) => {\r\n          alert(res.data.message)\r\n          this.isLoadingItem = '' // 觸發後清空id\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.products-banner {\r\n  height: 460px;\r\n  background-image: url(https://images.unsplash.com/photo-1612619732485-1ae018b63c55?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80);\r\n  background-position: top;\r\n  margin-top: -200px;\r\n}\r\n.btn-group > .btn {\r\n  flex: initial;\r\n}\r\n</style>\r\n","import { render } from \"./ProductsView.vue?vue&type=template&id=1ab51b49\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=1ab51b49&lang=scss\"\n\nimport exportComponent from \"D:\\\\_Front_end\\\\_Hexschool_Vue\\\\p-blossom\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","disabled","$props","has_pre","href","onClick","$options","current_page","_createVNode","_component_vue_feather","type","_Fragment","_renderList","total_pages","page","active","key","_toDisplayString","_hoisted_5","has_next","props","methods","updatePage","this","$emit","__exports__","render","style","role","_hoisted_1","_component_v_loading","$data","_component_router_link","to","_hoisted_7","_hoisted_8","item","id","src","imageUrl","alt","title","backgroundSize","_ctx","backgroundPosition","center","description","_component_pagination_tool","pages","onEmitPages","data","products","productId","isLoading","pagination","currentPage","components","PaginationTool","getProducts","getProductsApi","$http","get","then","res","catch","error","console","dir","$httpMessageState","response","addToCart","qty","product_id","isLoadingItem","addToCartApi","post","alert","message","mounted"],"sourceRoot":""}