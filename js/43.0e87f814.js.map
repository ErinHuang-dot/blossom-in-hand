{"version":3,"file":"js/43.0e87f814.js","mappings":"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","sources":["webpack://p-blossom/./src/views/CheckoutConfirm.vue","webpack://p-blossom/./src/views/CheckoutConfirm.vue?5260"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <v-loading :active=\"isLoading\"></v-loading>\r\n    <!-- progress-bar -->\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-10 py-6\">\r\n        <ul class=\"list-unstyled mb-0 ms-md-auto d-flex align-items-center justify-content-center w-100 mt-md-0 mt-4\">\r\n          <li class=\"me-md-7 me-3 position-relative custom-step-line\">\r\n            <vue-feather type=\"check-circle\" class=\"align-middle me-2\"></vue-feather>\r\n            <span class=\"text-nowrap\">填寫資料</span>\r\n          </li>\r\n          <li class=\"me-md-7 me-3 position-relative custom-step-line\">\r\n            <vue-feather type=\"check-circle\" class=\"align-middle me-2\"></vue-feather>\r\n            <span class=\"text-nowrap\">建立訂單</span>\r\n          </li>\r\n          <li>\r\n            <vue-feather type=\"circle\" class=\"align-middle me-2 text-muted\"></vue-feather>\r\n            <span class=\"text-nowrap text-muted\">確認付款</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-10\">\r\n        <h3 class=\"fw-bold mb-4 py-3\">建立訂單</h3>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center pb-7 mb-6\">\r\n      <!-- 填寫資訊 -->\r\n      <div class=\"col-md-6\">\r\n        <ul class=\"ps-0\">\r\n          <li class=\"border border-top-0 border-start-0 border-end-0 border-bottom mb-3\">\r\n            <span class=\"d-inline-block text-muted fs-6 mb-2\">Email</span>\r\n            <p>{{ orderData.user.email}}</p>\r\n          </li>\r\n          <li class=\"border border-top-0 border-start-0 border-end-0 border-bottom mb-3\">\r\n            <span class=\"d-inline-block text-muted fs-6 mb-2\">姓名</span>\r\n            <p>{{ orderData.user.name}}</p>\r\n          </li>\r\n          <li class=\"border border-top-0 border-start-0 border-end-0 border-bottom mb-3\">\r\n            <span class=\"d-inline-block text-muted fs-6 mb-2\">地址</span>\r\n            <p>{{ orderData.user.address}}</p>\r\n          </li>\r\n          <li class=\"border border-top-0 border-start-0 border-end-0 border-bottom mb-3\">\r\n            <span class=\"d-inline-block text-muted fs-6 mb-2\">電話</span>\r\n            <p>{{ orderData.user.tel}}</p>\r\n          </li>\r\n          <li class=\"border border-top-0 border-start-0 border-end-0 border-bottom mb-3\">\r\n            <span class=\"d-inline-block text-muted fs-6 mb-2\">其他留言</span>\r\n            <p v-if=\"orderData.user.message\">{{ orderData.user.message}}</p>\r\n            <p v-else>無</p>\r\n          </li>\r\n        </ul>\r\n        <div class=\"text-end mt-4\">\r\n          <button\r\n            class=\"btn btn-accent btn-lg px-6\"\r\n            type=\"button\"\r\n            @click=\"payOrder()\"\r\n          >確認付款</button>\r\n        </div>\r\n      </div>\r\n      <!-- 訂單金額表 -->\r\n      <div class=\"col-md-4\">\r\n        <div class=\"border border-ad-secondary p-4 mb-4\">\r\n          <div\r\n            v-for=\"item in orderData.products\"\r\n            :key=\"item.id\"\r\n            class=\"d-flex mb-2\">\r\n            <img\r\n              :src=\"item.product.imageUrl\"\r\n              :alt=\"item.product.title\"\r\n              class=\"rounded-1 me-2\"\r\n              style=\"width: 48px; height: 48px; object-fit: cover\">\r\n            <div class=\"w-100\">\r\n              <div class=\"d-flex justify-content-between\">\r\n                <p class=\"mb-0 fw-bold\">{{ item.product.title }}</p>\r\n                <p class=\"mb-0\">$ {{ item.total }}</p>\r\n              </div>\r\n              <p class=\"mb-0 fw-bold\">x {{ item.qty }}</p>\r\n            </div>\r\n          </div>\r\n          <table class=\"table mt-4 border-top border-bottom text-muted\">\r\n            <tbody>\r\n              <tr>\r\n                <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">小計</th>\r\n                <td class=\"text-end border-0 px-0 pt-4\">$ {{ orderData.total }}</td>\r\n              </tr>\r\n              <tr>\r\n                <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal\">優惠券代碼</th>\r\n                <td\r\n                  v-if=\"orderData.total\"\r\n                  class=\"text-end border-0 px-0 pt-0 pb-4\">未使用</td>\r\n                <td\r\n                  v-else\r\n                  class=\"text-end text-ad-warning border-0 px-0 pt-0 pb-4\"\r\n                >{{ orderData.products }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"d-flex justify-content-between mt-4\">\r\n            <p class=\"mb-0 h4 fw-bold\">總計</p>\r\n            <p class=\"mb-0 h4 fw-bold\">$ {{ Math.round(orderData.total)}}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderData: {\r\n        user: {},\r\n        message: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrderData () {\r\n      const { id } = this.$route.params\r\n      const getOrderApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      this.$http\r\n        .get(getOrderApi)\r\n        .then((res) => {\r\n          this.orderData = res.data.order\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.data.message)\r\n        })\r\n    },\r\n    payOrder () {\r\n      const { id } = this.$route.params\r\n      this.isLoading = true\r\n      const payApi = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n      this.$http\r\n        .post(payApi)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.orderData = res.data.order\r\n          alert('res.data.message')\r\n          this.$router.push('/checkout/success')\r\n        })\r\n        .catch((error) => {\r\n          console.dir(error.data.message)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrderData()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CheckoutConfirm.vue?vue&type=template&id=fe8426a2\"\nimport script from \"./CheckoutConfirm.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutConfirm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\_Front_end\\\\_Hexschool_Vue\\\\p-blossom\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createElementBlock","_createVNode","_component_v_loading","active","$data","_component_vue_feather","type","_hoisted_6","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_15","_toDisplayString","user","email","_hoisted_17","name","_hoisted_19","address","_hoisted_21","tel","_hoisted_23","message","_hoisted_24","_hoisted_25","onClick","$options","_Fragment","_renderList","products","item","key","id","src","product","imageUrl","alt","title","style","total","qty","_hoisted_36","_hoisted_38","_hoisted_42","Math","round","data","orderData","isLoading","methods","getOrderData","this","$route","params","getOrderApi","$http","get","then","res","order","catch","error","console","log","payOrder","payApi","post","alert","$router","push","dir","mounted","__exports__","render"],"sourceRoot":""}