"use strict";(self["webpackChunkp_blossom"]=self["webpackChunkp_blossom"]||[]).push([[582],{2582:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var l=a(6252),o=a(3577);const n={id:"App"},t={class:"container d-flex justify-content-center align-items-center"},i={class:"wrap d-flex justify-content-center align-items-center"},r={class:"form-login"},d=(0,l._)("h2",{class:"login-logo fs-3 text-center my-6"},[(0,l._)("span",{class:"fw-bold"},"Blossom"),(0,l.Uk)(" in Hand ")],-1),m={class:"mb-5"},c={class:"form-floating mb-3"},u=(0,l._)("label",{for:"floatingEmail"},"Email address",-1),p={class:"form-floating mb-3"},f=(0,l._)("label",{for:"floatingPass"},"Password",-1),b=["onClick"],g=(0,l._)("p",{class:"text-muted text-center"},"© 2022~∞ - Blossom in Hand",-1);function v(e,s,a,v,h,w){const _=(0,l.up)("v-field"),k=(0,l.up)("error-message"),x=(0,l.up)("v-form");return(0,l.wg)(),(0,l.iD)("main",n,[(0,l._)("div",t,[(0,l._)("div",i,[(0,l._)("div",r,[d,(0,l.Wm)(x,{onSubmit:w.login},{default:(0,l.w5)((({errors:e,validate:a})=>[(0,l._)("div",m,[(0,l._)("div",c,[(0,l.Wm)(_,{type:"email",class:(0,o.C_)(["form-control",{"is-invalid":e["email"]}]),name:"email",rules:"required",modelValue:h.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>h.user.username=e),id:"floatingEmail",placeholder:"Email address"},null,8,["class","modelValue"]),u,(0,l.Wm)(k,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",p,[(0,l.Wm)(_,{type:"password",class:(0,o.C_)(["form-control",{"is-invalid":e["password"]}]),name:"password",rules:"required",modelValue:h.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>h.user.password=e),id:"floatingPass",placeholder:"Password"},null,8,["class","modelValue"]),f,(0,l.Wm)(k,{name:"password",class:"invalid-feedback"})]),(0,l._)("button",{type:"submit",class:"btn btn-primary w-100 fs-5 mb-3",onClick:e=>(w.login,a),id:"btnLogin"},"登入 ",8,b)])])),_:1},8,["onSubmit"]),g])])])])}var h={data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{const{token:s,expired:a}=e.data;document.cookie=`userToken=${s}; expires=${new Date(a)}GMT;`,alert(`${e.data.message}，即將進入商品頁面`),this.$router.push("/admin/products")})).catch((e=>{alert(`${e.response.data.message}，請重新輸入一次`),console.dir(e)}))}}},w=a(3744);const _=(0,w.Z)(h,[["render",v]]);var k=_}}]);
//# sourceMappingURL=582.a0b4eef5.js.map